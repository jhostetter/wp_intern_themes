var FixedHeader={},LayoutAndFilter={},themifyScript,ThemifySlider,ThemifyGallery,ThemifyMediaElement,qp_max_pages
!function(e){var t,o,i,a=e.event,r={_:0},l=0
t=a.special.throttledresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(s,d){var n=this,p=arguments
o=!0,i||(setInterval(function(){l++,(l>t.threshold&&o||d)&&(s.type="throttledresize",a.dispatch.apply(n,p),o=!1,l=0),l>9&&(e(r).stop(),i=!1,l=0)},30),i=!0)},threshold:0}}(jQuery),function(e){function t(){return"true"===themifyScript.isTouch}function o(t){e("body,html").animate({scrollTop:t},800)}function i(t,o){if(void 0!==e.fn.infinitescroll){var i=parseInt(themifyScript.maxPages)
void 0!==qp_max_pages&&(i=qp_max_pages),t.infinitescroll({navSelector:"#load-more a:last",nextSelector:"#load-more a:last",itemSelector:o,loadingText:"",donetext:"",loading:{img:themifyScript.loadingImg},maxPage:i,behavior:"auto"!==themifyScript.autoInfinite?"twitter":"",pathParse:function(e){return e.match(/^(.*?)\b2\b(?!.*\b2\b)(.*?$)/).slice(1)},bufferPx:50,pixelsFromNavToBottom:e("#footerwrap").height()},function(o){var a=e(o)
e(".post.newItems").removeClass("newItems"),a.addClass("newItems"),"reset"===themifyScript.resetFilterOnLoad&&LayoutAndFilter.reset(),a.hide().imagesLoaded(function(){a.fadeIn(),e(".wp-audio-shortcode, .wp-video-shortcode").not("div").each(function(){var t=e(this)
0===t.closest(".mejs-audio").length&&ThemifyMediaElement.init(t)}),void 0!==ThemifyGallery&&ThemifyGallery.init({context:e(themifyScript.lightboxContext)}),"object"==typeof t.data("isotope")&&t.isotope("appended",a),LayoutAndFilter.filterActive&&(LayoutAndFilter.enableFilters(),"scroll"===themifyScript.scrollToNewOnLoad&&LayoutAndFilter.restore()),e("#infscr-loading").fadeOut("normal"),1===i&&e("#load-more, #infscr-loading").remove(),e("body").trigger("infiniteloaded.themify",[a]),e(window).trigger("resize")}),i-=1,i>1&&"auto"!==themifyScript.autoInfinite&&e(".load-more-button").show()}),"auto"===themifyScript.autoInfinite&&e("#load-more, #load-more a").hide()}}FixedHeader={headerHeight:0,hasHeaderSlider:!1,headerSlider:!1,init:function(){""!==themifyScript.fixedHeader&&(this.headerHeight=e("#headerwrap").outerHeight(!0),this.activate(),e(window).on("scroll touchstart.touchScroll touchmove.touchScroll",this.activate)),e("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),e(window).on("throttledresize",function(){e("#pagewrap").css("paddingTop",Math.floor(e("#headerwrap").outerHeight(!0)))}),e("#gallery-controller").length>0&&(this.hasHeaderSlider=!0)},activate:function(){var t=e(window),o=t.scrollTop(),i=e("#headerwrap")
e("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),o>=FixedHeader.headerHeight?i.hasClass("fixed-header")||FixedHeader.scrollEnabled():i.hasClass("fixed-header")&&FixedHeader.scrollDisabled()},scrollDisabled:function(){e("#pagewrap").css("paddingTop",Math.floor(this.headerHeight)),e("#headerwrap").removeClass("fixed-header"),e("#header").removeClass("header-on-scroll"),e("body").removeClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&"object"==typeof e("#headerwrap").data("backstretch")&&(e("#headerwrap").data("backstretch").resize(),e("#gallery-controller .slides").trigger("next"))},scrollEnabled:function(){e("#headerwrap").addClass("fixed-header"),e("#header").addClass("header-on-scroll"),e("body").addClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&"object"==typeof e("#headerwrap").data("backstretch")&&(e("#headerwrap").data("backstretch").resize(),e("#gallery-controller .slides").trigger("next"))}},e("body").hasClass("fixed-header")&&FixedHeader.init(),ThemifySlider={recalcHeight:function(t,o){var i,a=[]
e.each(t,function(){a.push(e(this).outerHeight(!0))}),i=Math.max.apply(Math,a),o.closest(".carousel-wrap").find(".caroufredsel_wrapper, .slideshow").each(function(){e(this).outerHeight(i)})},didResize:!1,createCarousel:function(t){var o=this
t.each(function(){var t=e(this)
t.carouFredSel({responsive:!0,prev:"#"+t.data("id")+" .carousel-prev",next:"#"+t.data("id")+" .carousel-next",pagination:{container:"#"+t.data("id")+" .carousel-pager"},circular:!0,infinite:!0,swipe:!0,scroll:{items:t.data("scroll"),fx:"scroll",duration:parseInt(t.data("speed"))},auto:{play:"off"!==t.data("autoplay"),timeoutDuration:"off"!==t.data("autoplay")?parseInt(t.data("autoplay")):0},items:{visible:{min:1,max:t.data("visible")?parseInt(t.data("visible")):1},width:222},onCreate:function(i){var a=t.closest(".slideshow-wrap")
a.css({visibility:"visible",height:"auto"}),e(window).on("throttledresize",function(){o.recalcHeight(i.items,t)}),e(window).resize(),setTimeout(function(){a.find(".carousel-nav-wrap").css("width",18*parseInt(a.find(".carousel-pager").find("a").length)+"px")},200)}})})}},LayoutAndFilter={filterActive:!1,init:function(){themifyScript.disableMasonry=e("body").hasClass("masonry-enabled")?"":"disable-masonry","disable-masonry"!==themifyScript.disableMasonry&&(e(".post-filter + .portfolio.list-post,.loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2").prepend('<div class="grid-sizer">').prepend('<div class="gutter-sizer">'),this.enableFilters(),this.filter(),this.filterActive=!0)},enableFilters:function(){var t=e(".post-filter")
t.find("a").length>0&&void 0!==e.fn.isotope&&t.find("li").each(function(){var t=e(this),o=t.parent().next(),i=t.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","")
o.find(".portfolio-post.cat-"+i).length<=0?t.hide():t.show()})},filter:function(){var t=e(".post-filter")
t.find("a").length>0&&void 0!==e.fn.isotope&&t.addClass("filter-visible").on("click","a",function(t){t.preventDefault()
var o=e(this).parent(),i=o.parent().next()
o.hasClass("active")?(o.removeClass("active"),i.isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},filter:".portfolio-post"})):(o.siblings(".active").removeClass("active"),o.addClass("active"),i.isotope({filter:".cat-"+o.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","")}))})},scrolling:!1,reset:function(){e(".post-filter").find("li.active").find("a").addClass("previous-active").trigger("click"),this.scrolling=!0},restore:function(){var t=e(".newItems").first(),o=this,i=t.offset().top-t.outerHeight(!0)/2,a=800
i>=800&&(a=800+Math.abs(i/1e3*100)),e("html,body").stop().animate({scrollTop:i},a,function(){o.scrolling=!1})},layout:function(){"disable-masonry"!==themifyScript.disableMasonry&&(e(".post-filter + .portfolio.list-post,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2,.loops-wrapper.portfolio-taxonomy").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".portfolio-post"}).addClass("masonry-done"),e(".loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2").not(".portfolio-taxonomy,.portfolio").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".loops-wrapper > article"}).addClass("masonry-done").isotope("once","layoutComplete",function(){e(window).trigger("resize")}),e(".woocommerce.archive").find("#content").find("ul.products").isotope({layoutMode:"packery",itemSelector:".type-product"}).addClass("masonry-done"))
var t=e(".gallery-wrapper.packery-gallery")
t.length>0&&t.isotope({layoutMode:"packery",itemSelector:".item"})},reLayout:function(){e(".loops-wrapper").each(function(){var t=e(this)
"object"==typeof t.data("isotope")&&t.isotope("layout")})
var t=e(".gallery-wrapper.packery-gallery")
t.length>0&&"object"==typeof t.data("isotope")&&t.isotope("layout")}},e(document).ready(function(){var t=e("body"),i=e("#header")
if(void 0!==e.fn.themifyScrollHighlight&&t.themifyScrollHighlight(),LayoutAndFilter.init(),LayoutAndFilter.layout(),void 0!==e.fn.animatedBG&&e(".animated-bg").animatedBG({colorSet:themifyScript.colorAnimationSet.split(","),speed:parseInt(themifyScript.colorAnimationSpeed,10)}),e(".back-top a").on("click",function(e){e.preventDefault(),o(0)}),"function"==typeof e.fn.themifyDropdown&&e("#main-nav").themifyDropdown(),t.hasClass("header-minbar")||t.hasClass("header-leftpane")){if(e("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"left"}),void 0!==e.fn.niceScroll){var a=i
t.hasClass("header-minbar")&&(a=e("#mobile-menu")),a.niceScroll(),t.on("sidemenushow.themify",function(){setTimeout(function(){a.getNiceScroll().resize()},200)})}}else e("#menu-icon").themifySideMenu({close:"#menu-icon-close"})
e(".highlight-post:odd").addClass("odd"),void 0!==ThemifyGallery&&ThemifyGallery.init({context:e(themifyScript.lightboxContext)})
var r=e(window).width()
r>1e3&&jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").niceScroll()
var l=e(".header-horizontal, .header-top-bar, .boxed-compact").find(".header-widget")
if(l.length>0&&(e(".header-horizontal #header, .header-top-bar #header, .boxed-compact #header").append(e('<a href="#" class="pull-down">')),e(".pull-down").on("click",function(t){l.getNiceScroll().resize(),e("#header").toggleClass("pull-down-close"),l.slideToggle("fast",function(){e("#pagewrap").css("paddingTop",e("#headerwrap").outerHeight())}),t.preventDefault()})),e(window).resize(function(){var t=e(window).width()
1e3>t&&(jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").getNiceScroll().remove(),jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").attr("style",""))}),e("body").on("click",".loops-wrapper.grid4.polaroid .post-image + .post-content, .loops-wrapper.grid3.polaroid .post-image + .post-content, .loops-wrapper.grid2.polaroid .post-image + .post-content, .loops-wrapper.grid4.overlay .post-image + .post-content, .loops-wrapper.grid3.overlay .post-image + .post-content, .loops-wrapper.grid2.overlay .post-image + .post-content",function(){var t=e(this).closest(".post").find("a[data-post-permalink]")
t.hasClass("lightbox")||(window.location=t.attr("href"))}),void 0!==e.fn.carouFredSel){if(e(".loops-wrapper.slider").length>0){var s=0
e(".loops-wrapper.slider").each(function(){s++
var t=e(this)
void 0===t.attr("id")&&t.attr("id","loops-wrapper-"+s)
var o=t.attr("id")
t.addClass("slideshow-wrap"),0===t.find(".slideshow").length?t.wrapInner('<div class="slideshow" data-id="'+o+'" data-autoplay="off" data-speed="1000" data-effect="scroll" data-visible="3" />'):t.find(".slideshow").attr("data-id",o)})}ThemifySlider.createCarousel(e(".slideshow"))}}),e(window).load(function(){var o=e("body")
if(o.hasClass("woocommerce")&&o.hasClass("archive")?i(e("ul.products"),".product"):i(e("#loops-wrapper"),".post"),!t()&&void 0!==e.BigVideo){var a=e("[data-fullwidthvideo]").not(".themify_builder_row"),r=[]
e.each(a,function(t,o){r[t]=new e.BigVideo({useFlashForFirefox:!0,container:e(o),id:t}),r[t].init(),r[t].show(e(o).data("fullwidthvideo"),{doLoop:!0})})}})}(jQuery)
